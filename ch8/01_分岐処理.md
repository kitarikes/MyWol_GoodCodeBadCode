# 条件分岐

## 早期return: else句は使わない

↓のように書くとネストしなくて可読性/変更容易性○

```java
if (~~~) return;
if (~~~) return;
if (~~~) return;
if (~~~) return;
if (~~~) return;
```


## switch文は一箇所にまとめる！重複させない！

```java
switch (type) {
    type.STUDENT : 
        // ~~~
    type.EMPLOYEE :
        // ~~~
}

// のようなスイッチ文をいたる所に書いてませんか？
```

## switch文よりもinterface！多態性 → 条件分岐と同じことが実現できる！

条件分岐で型を特定し、機能を切り替える仕組みから、interfaceで機能を取り替える仕組みにできる！

適用前：if文で型を特定し、キャストした上でメソッドを使用する必要がある。

```java
void showArea(Object shape) {
    if (shape instanceof Rectangle) {
        System.out.println(((Rectangle) shape).area());
    }
    if (shape instanceof Circle) {
        System.out.println(((Circle) shape).area());
    }
}
```

適用後：interfaceを実装しているクラスは全て引数として取れる！

```java
interface Measurement {
    double area();
}

void showArea(Measurement measurement) {
    System.out.println(measurement.area());
}
```

## ストラテジパターン 〜interface + enum + Mapで機能を切り替える〜

```java
interface MagicAttack {
    String name();
    int costMagicPoint();
    int attackPower();
}

final Map<MagicType, MagicAttack> magickAttacks = Map.of(
    MagicType.fire, new Fire(member),
    MagicType.shoden, new Shiden(member),
    MagicType.hellFire, new HellFire(member)
);

void attack(final MagicType magicType) {
    final MagicAttack usingMagicAttack = magicAttacks.get(magicType);
    usingMagicAttack.attackPower();
}

attack(MagicType.fire);
```
